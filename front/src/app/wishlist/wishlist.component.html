<div class="wishlist-container">
  <div class="grid">
    <div class="col-12">
      <p-card>
        <p-table [value]="wishlistItems" [tableStyle]="{'min-width': '50rem'}">
          <ng-template pTemplate="header">
            <tr>
              <th>Product</th>
              <th>Price</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-item>
            <tr>
              <td>
                <div class="flex align-items-center">
                  <img [src]="item.image" [alt]="item.name" class="product-image" />
                  <span class="ml-2">{{ item.name }}</span>
                </div>
              </td>
              <td>{{ item.price | currency }}</td>
              <td>
                <p-tag [severity]="getStatusSeverity(item.inventoryStatus)" [value]="item.inventoryStatus"></p-tag>
              </td>
              <td>
                <div class="actions">
                  <p-button 
                    icon="pi pi-shopping-cart" 
                    (click)="addToCart(item)"
                    styleClass="p-button-rounded p-button-success"
                    [disabled]="item.inventoryStatus === 'OUTOFSTOCK'"
                    pTooltip="Add to cart"
                    tooltipPosition="top"
                  ></p-button>
                  <p-button 
                    icon="pi pi-trash" 
                    (click)="removeFromWishlist(item._id)"
                    styleClass="p-button-rounded p-button-danger"
                    pTooltip="Remove from wishlist"
                    tooltipPosition="top"
                  ></p-button>
                </div>
              </td>
            </tr>
          </ng-template>
          <ng-template pTemplate="empty">
            <tr>
              <td colspan="4">
                <div class="empty-state">
                  <i class="pi pi-heart" style="font-size: 2rem"></i>
                  <p class="mt-2">Your wishlist is empty</p>
                </div>
              </td>
            </tr>
          </ng-template>
        </p-table>
      </p-card>
    </div>
  </div>
</div>

<p-toast></p-toast> 